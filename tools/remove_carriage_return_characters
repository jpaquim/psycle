#! /usr/bin/env python

import sys

def do_one_file(path):
	f = file(path, 'r')
	try: lines = f.readlines()
	finally: f.close()
	chars = []
	replaced = False
	for line in lines:
		for char in line:
			if char != '\r': chars.append(char)
			else: replaced = True
	if replaced:
		f = file(path, 'w')
		try:
			for char in chars: f.write(char)
		finally: f.close()
		print 'removed carriage return characters in', path

if __name__ == '__main__':
	for path in sys.argv[1:]:
		do_one_file(path)
