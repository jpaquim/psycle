//////////////////////////////////////////////////////////////////////
//
//				BiQuad.h
//
//				druttis@darkface.pp.se
//
//////////////////////////////////////////////////////////////////////

#pragma once

//////////////////////////////////////////////////////////////////////
//				BiQuad class
//////////////////////////////////////////////////////////////////////

class BiQuad
{

	//////////////////////////////////////////////////////////////////
	//				Variables
	//////////////////////////////////////////////////////////////////

private:

	float				inputs[2];
	float				outputs[2];
	float				freq;
	float				res;

	//////////////////////////////////////////////////////////////////
	//				Methods
	//////////////////////////////////////////////////////////////////

public:

	//////////////////////////////////////////////////////////////////
	//				Constructor
	//////////////////////////////////////////////////////////////////

	AllPass()
	{
		Init();
	}

	//////////////////////////////////////////////////////////////////
	//				Destructor
	//////////////////////////////////////////////////////////////////

	virtual ~AllPass()
	{
	}

	//////////////////////////////////////////////////////////////////
	//				Init
	//////////////////////////////////////////////////////////////////

	inline void Init()
	{
		LowPass
		SetDelay(0.0f);
		Reset();
	}

	//////////////////////////////////////////////////////////////////
	//				Reset
	//////////////////////////////////////////////////////////////////

	inline void Reset()
	{
		_z = 0.0f;
	}

	//////////////////////////////////////////////////////////////////
	//				GetDelay
	//////////////////////////////////////////////////////////////////

	inline float GetDelay()
	{
		return _delay;
	}

	//////////////////////////////////////////////////////////////////
	//				SetDelay
	//////////////////////////////////////////////////////////////////

	inline void SetDelay(float freq, float res)
	{
		c = 1.0f / tan(
		_delay = delay;
		_a = (1.0f - delay) / (1.0f + delay);
	}

	//////////////////////////////////////////////////////////////////
	//				GetSample
	//////////////////////////////////////////////////////////////////

	inline float GetSample(float in)
	{
		float out = a1 * in + a2 * inputs[0] + a3 * inputs[1] - b1 * outputs[0] - b2 * outputs[1];
		inputs[1] = inputs[0];
		inputs[0] = in;
		outputs[1] = outputs[0];
		outputs[0] = out;
		return out;
	}

};
