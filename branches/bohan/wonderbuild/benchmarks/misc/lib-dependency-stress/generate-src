#! /usr/bin/env python
# This source is free software ; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation ; either version 2, or (at your option) any later version.
# copyright 2009-2009 members of the psycle project http://psycle.sourceforge.net ; johan boule <bohan@jabber.org>

if __name__ == '__main__':
	import sys, os
	os.chdir(os.path.dirname(__file__))
	count = int(sys.argv[1])
	for i in xrange(count):
		dir = os.path.join('src', 'wrapper' + str(i))
		if not os.path.exists(dir): os.makedirs(dir)
		f = open(os.path.join(dir, 'wrapper.hpp'), 'wb')
		try:
			f.write('#ifndef WRAPPER' + str(i) + '\n')
			f.write('#define WRAPPER' + str(i) + '\n')
			f.write('void wrapper' + str(i) + '();\n')
			f.write('#endif\n')
		finally:
			f.close()
		f = open(os.path.join(dir, 'wrapper.cpp'), 'wb')
		try:
			for j in xrange(i): f.write('#include <wrapper' + str(j) + '/wrapper.hpp>\n')
			f.write('void wrapper' + str(i) + '() {\n')
			for j in xrange(i): f.write('\twrapper' + str(j) + '();\n')
			f.write('}\n')
		finally:
			f.close()
