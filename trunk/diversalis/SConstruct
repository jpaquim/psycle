#! /usr/bin/env scons

# This source is free software ; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation ; either version 2, or (at your option) any later version.
# copyright 2006-2007 johan boule <bohan@jabber.org>
# copyright 2006-2007 psycledelics http://psycle.pastnotecut.org

# To be able to import the packageneric package, we add the parent dir of this SConstruct file to the python path:
import sys, os ; sys.path.append(os.path.split(os.getcwd())[0]) # SCons always makes the dir of the SConstruct file the current dir.

# project

from packageneric.scons.project import project
project = project(name = 'diversalis')

# source package

from packageneric.scons.source_package import source_package
from packageneric.scons.version import version

source_package = source_package(project,
	name = project.name(),
	version = version(2, 0),
	description_file = 'README'
)

source_package.add_files(['README', 'NEWS', 'ChangeLog', 'AUTHORS', 'COPYING', 'TODO'])

# pkg-config packages

from packageneric.scons.pkg_config_package import pkg_config_package
pkg_config_package = pkg_config_package(project,
	name = source_package.name(),
	version = source_package.version(),
	description = source_package.description()
)
pkg_config_package.uninstalled_env().compilers().cxx().paths().add(['src'])

project.default_targets([pkg_config_package])

Return('pkg_config_package')
