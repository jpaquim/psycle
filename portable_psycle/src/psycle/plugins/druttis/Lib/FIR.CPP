//============================================================================
//
//	FIR (Finite Impulse Response)
//
//	druttis@darkface.pp.se
//	
//============================================================================
#include "FIR.h"
//============================================================================
//	Constructor
//============================================================================
FIR::FIR()
{
	inputs = 0;
	coeffs = 0;
	length = 0;
}
//============================================================================
//	Destructor
//============================================================================
FIR::~FIR()
{
	if (inputs)
		delete inputs;
	if (coeffs)
		delete coeffs;
}
//============================================================================
//	Init
//============================================================================
void FIR::Init(int maxLength)
{
	length = maxLength + 1;
	if (coeffs)
		delete coeffs;
	coeffs = new float[length * sizeof(float)];
	if (inputs)
		delete inputs;
	inputs = new float[2 * length * sizeof(float)];
	Clear();
}
//============================================================================
//	Init
//============================================================================
void FIR::Clear()
{
	for (int i = 0; i < 2 * length; i++)
		inputs[i] = 0.0f;
	lastOutput = 0.0f;
	inPoint = length;
}
//============================================================================
//	SetCoeffs
//============================================================================
void FIR::SetCoeffs(float *newCoeffs)
{
	for (int i = 0; i < length; i++)
		coeffs[i] = newCoeffs[i];
}
